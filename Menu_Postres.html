<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Menú de Postres</title>
  <link rel="stylesheet" href="Menu_Postres.css">
  <link rel="icon" type="image/png" href="logo_cafeteria.jpeg">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
</head>
<body>

  <header id="header">
    <nav class="navbar">
      <input type="checkbox" id="menu-toggle">
      <label for="menu-toggle" class="menu-icon">&#9776;</label>
      <div class="menu">
        <a href="Menu_Principal.html">Volver</a>
        <a href="#">Facebook</a>
        <a href="#">Instagram</a>
        <a href="#">Whatsapp</a>
        <a href="#">Correo</a>
        <a href="#">Ubicación</a>
        <a href="#">Contáctanos</a>

        <a href="carrito.html" class="carrito-link">
          <i class="fa fa-shopping-cart"></i>
          <span id="cartCount" class="cart-count">0</span>
        </a>
      </div>
    </nav>

    <div class="bienvenida" id="inicio">
      <h1>Bienvenido al<br><span>Menú de Postres</span></h1>
    </div>
  </header>

  <section id="cafes">
    <h2>Menú de Postres</h2>

    <div class="menu-items">

      <div class="item">
        <img src="brownia.png" alt="Brownie">
        <div class="info">
          <h3>Brownie Relleno de Chocolate</h3>
          <p>Brownie artesanal con centro fundido.</p>
          <p class="precio">$45.00 MXN</p>
          <button class="btn-agregar" data-nombre="Brownie Relleno de Chocolate" data-precio="45">
            <i class="fas fa-cart-plus"></i> Agregar al carrito
          </button>
        </div>
      </div>

      <div class="item">
        <img src="frannapolitano.png" alt="Flan Napolitano">
        <div class="info">
          <h3>Flan Napolitano con Queso Crema</h3>
          <p>Delicioso flan casero con un toque de queso crema.</p>
          <p class="precio">$40.00 MXN</p>
          <button class="btn-agregar" data-nombre="Flan Napolitano con Queso Crema" data-precio="40">
            <i class="fas fa-cart-plus"></i> Agregar al carrito
          </button>
        </div>
      </div>

      <div class="item">
        <img src="flutasalmibar.png" alt="Frutas en Almíbar">
        <div class="info">
          <h3>Frutas en Almíbar sin Conservantes</h3>
          <p>Combinación natural de frutas dulces.</p>
          <p class="precio">$35.00 MXN</p>
          <button class="btn-agregar" data-nombre="Frutas en Almíbar sin Conservantes" data-precio="35">
            <i class="fas fa-cart-plus"></i> Agregar al carrito
          </button>
        </div>
      </div>

      <div class="item">
        <img src="payqueso.png" alt="Pay de Queso">
        <div class="info">
          <h3>Pay de Queso con Toques Caseros</h3>
          <p>Suave, cremoso y con sabor inigualable.</p>
          <p class="precio">$50.00 MXN</p>
          <button class="btn-agregar" data-nombre="Pay de Queso con Toques Caseros" data-precio="50">
            <i class="fas fa-cart-plus"></i> Agregar al carrito
          </button>
        </div>
      </div>


    </div>
  </section>

  <!-- Notificación de producto agregado -->
  <div id="notificacion" class="notificacion">
    <i class="fas fa-check-circle"></i>
    <span id="notificacion-texto"></span>
  </div>

  <!-- SCRIPT GLOBAL DE CARRITO -->
  <script>
    let carrito = JSON.parse(localStorage.getItem('carrito')) || [];

    function actualizarContador() {
      const contador = document.getElementById('cartCount');
      if (contador) {
        const total = carrito.reduce((acc, p) => acc + p.cantidad, 0);
        contador.textContent = total;
      }
    }

    function guardarCarrito() {
      localStorage.setItem('carrito', JSON.stringify(carrito));
      actualizarContador();
    }

    function mostrarNotificacion(mensaje) {
      const notificacion = document.getElementById('notificacion');
      const notificacionTexto = document.getElementById('notificacion-texto');
      
      if (notificacion && notificacionTexto) {
        notificacionTexto.textContent = mensaje;
        notificacion.classList.add('mostrar');
        
        setTimeout(() => {
          notificacion.classList.remove('mostrar');
        }, 3000);
      }
    }

    document.querySelectorAll('.btn-agregar').forEach(btn => {
      btn.addEventListener('click', () => {
        const nombre = btn.getAttribute('data-nombre');
        const precio = parseFloat(btn.getAttribute('data-precio'));
        const existente = carrito.find(p => p.nombre === nombre);
        
        if (existente) {
          existente.cantidad++;
        } else {
          carrito.push({ nombre, precio, cantidad: 1 });
        }
        
        guardarCarrito();
        
        // Efecto visual en el botón
        const originalBg = btn.style.background;
        btn.style.background = 'linear-gradient(180deg, #4CAF50 0%, #2E7D32 100%)';
        setTimeout(() => {
          btn.style.background = originalBg;
        }, 300);
        
        // Mostrar notificación elegante
        mostrarNotificacion(`✅ ${nombre} agregado al carrito`);
      });
    });

    actualizarContador();
  </script>
</body>
</html>